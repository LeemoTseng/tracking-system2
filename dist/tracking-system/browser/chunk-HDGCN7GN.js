import{a as be}from"./chunk-2SGSVXW7.js";import{a as ue,b as Y,c as he,d as ge,e as _e,f as fe}from"./chunk-43B5Z5VI.js";import{D as j,E as B,F as O,H as A,I,J as ae,L as re,M as oe,N as se,O as le,P as me,Q as ce,R as N,S as de,T as pe,a as te,c as ie,h as ne}from"./chunk-T5CV32Z5.js";import{c as z,d as F,f as R,g as U,h as V}from"./chunk-ZSSD5RUB.js";import{$,$a as Z,Cb as s,Db as D,Eb as _,Gb as w,Hb as E,Ib as P,Kb as J,Ma as K,Pa as q,Qa as o,R as X,T as G,W as T,_a as k,aa as f,ac as ee,ba as b,db as h,jb as c,la as S,mb as v,nb as g,ob as y,pb as x,qb as C,rb as i,sb as n,tb as d,ub as M,vb as u,wb as p}from"./chunk-NMV4VB5V.js";import"./chunk-EQDQRRRY.js";var ke=()=>[1,2,3,4,5,6,7];function De(r,t){if(r&1&&(i(0,"div",10),d(1,"div"),n()),r&2){let e=p(2);o(),v(e.skeletonClass)}}function Se(r,t){r&1&&(i(0,"table",0)(1,"thead")(2,"tr",1),d(3,"td",2),i(4,"td",3)(5,"p",4),s(6,"HAWB No"),n(),i(7,"p",4),s(8,"MAWB No."),n()(),i(9,"td",5)(10,"p",4),s(11,"POD"),n()(),i(12,"td",6)(13,"p",4),s(14,"Milestones"),n(),i(15,"mat-icon",7),s(16," help "),n()(),i(17,"td",5),d(18,"p",4),n()()()(),i(19,"div",8)(20,"div",9),x(21,De,2,2,"div",10,y),n()()),r&2&&(o(21),C(J(0,ke)))}function we(r,t){r&1&&(i(0,"p",24)(1,"span",31),s(2," travel "),n()())}function Ee(r,t){r&1&&(i(0,"p",24)(1,"span",31),s(2," travel "),n()())}function Pe(r,t){r&1&&(i(0,"p",24)(1,"span",31),s(2," travel "),n()())}function Ae(r,t){r&1&&(i(0,"p",24)(1,"span",31),s(2," travel "),n()())}function Ie(r,t){r&1&&(i(0,"p",24)(1,"span",31),s(2," travel "),n()())}function Re(r,t){r&1&&(i(0,"p",24)(1,"span",31),s(2," travel "),n()())}function Be(r,t){if(r&1){let e=M();i(0,"tr",13)(1,"td",14),s(2),n(),i(3,"td",15)(4,"p",16),s(5),n(),i(6,"p",16),s(7),n()(),i(8,"td",15)(9,"p",16),s(10),n()(),i(11,"td",17)(12,"div",18)(13,"div",19)(14,"div",20)(15,"div",21)(16,"div",22),d(17,"div",23),h(18,we,3,0,"p",24),d(19,"div",25),n(),i(20,"p",26),s(21," Booked "),n(),i(22,"p",27),s(23),n()(),i(24,"div",21)(25,"div",22),d(26,"div",23),h(27,Ee,3,0,"p",24),d(28,"div",28),n(),i(29,"p",26),s(30," ETD "),n(),i(31,"p",27),s(32),n()(),i(33,"div",21)(34,"div",22),d(35,"div",23),h(36,Pe,3,0,"p",24),d(37,"div",28),n(),i(38,"p",26),s(39," ATD "),n(),i(40,"p",27),s(41),n()(),i(42,"div",21)(43,"div",22),d(44,"div",23),h(45,Ae,3,0,"p",24),d(46,"div",28),n(),i(47,"p",26),s(48," ETA "),n(),i(49,"p",27),s(50),n()(),i(51,"div",21)(52,"div",22),d(53,"div",23),h(54,Ie,3,0,"p",24),d(55,"div",28),n(),i(56,"p",26),s(57," ATA "),n(),i(58,"p",27),s(59),n()(),i(60,"div",21)(61,"div",22),d(62,"div",23),h(63,Re,3,0,"p",24),n(),i(64,"p",26),s(65," Completed "),n()()()()()(),i(66,"td",29)(67,"p",30),u("click",function(){let l=f(e).$implicit,m=p(3);return b(m.viewItemBtn(l.HAWBNo,l.MAWBNo))}),s(68," View "),n()()()}if(r&2){let e=t.$implicit,a=t.$index,l=p(3);o(2),_(" ",(l.currentPage-1)*5+(a+1)," "),o(3),_(" ",e.HAWBNo||"-"," "),o(2),D(e.MAWBNo||"-"),o(3),D(e.PONo||"-"),o(7),c("ngClass",l.getStatusClass(e.MilestoneNode,"Booked")),o(),g(e.MilestoneNode=="BookingCreation"?18:-1),o(),c("ngClass",l.getStatusClass(e.MilestoneNode,"Booked")),o(),c("ngClass",l.getTextClass(e.MilestoneNode,"Booked")),o(3),_(" ",e.Milestone.BookingCreation||"-"," "),o(3),c("ngClass",l.getStatusClass(e.MilestoneNode,"ETD")),o(),g(e.MilestoneNode==="ETD"?27:-1),o(),c("ngClass",l.getStatusClass(e.MilestoneNode,"ETD")),o(),c("ngClass",l.getTextClass(e.MilestoneNode,"ETD")),o(3),_(" ",e.Milestone.ETD||"-"," "),o(3),c("ngClass",l.getStatusClass(e.MilestoneNode,"ATD")),o(),g(e.MilestoneNode==="ATD"?36:-1),o(),c("ngClass",l.getStatusClass(e.MilestoneNode,"ATD")),o(),c("ngClass",l.getTextClass(e.MilestoneNode,"ATD")),o(3),_(" ",e.Milestone.ATD||"-"," "),o(3),c("ngClass",l.getStatusClass(e.MilestoneNode,"ETA")),o(),g(e.MilestoneNode==="ETA"?45:-1),o(),c("ngClass",l.getStatusClass(e.MilestoneNode,"ETA")),o(),c("ngClass",l.getTextClass(e.MilestoneNode,"ETA")),o(3),_(" ",e.Milestone.ETA||"-"," "),o(3),c("ngClass",l.getStatusClass(e.MilestoneNode,"ATA")),o(),g(e.MilestoneNode==="ATA"?54:-1),o(),c("ngClass",l.getStatusClass(e.MilestoneNode,"ATA")),o(),c("ngClass",l.getTextClass(e.MilestoneNode,"ATA")),o(3),_(" ",e.Milestone.ATA||"-"," "),o(3),c("ngClass",l.getStatusClass(e.MilestoneNode,"Completed")),o(),g(e.MilestoneNode==="Pod"?63:-1),o(),c("ngClass",l.getTextClass(e.MilestoneNode,"Completed"))}}function Le(r,t){if(r&1&&(i(0,"table",11)(1,"thead")(2,"tr",1),d(3,"td",2),i(4,"td",3)(5,"p",4),s(6,"HAWB No"),n(),i(7,"p",4),s(8,"MAWB No."),n()(),i(9,"td",5)(10,"p",4),s(11,"POD"),n()(),i(12,"td",6)(13,"p",4),s(14,"Milestones"),n(),i(15,"mat-icon",7),s(16," help "),n()(),i(17,"td",5),d(18,"p",4),n()()(),i(19,"tbody"),x(20,Be,69,32,"tr",13,y),n()()),r&2){let e=p(2);o(20),C(e.shipmentList)}}function Oe(r,t){r&1&&(i(0,"div",12)(1,"p",32),s(2,"No data found."),n()())}function Ne(r,t){if(r&1&&h(0,Le,22,0,"table",11)(1,Oe,3,0,"div",12),r&2){let e=p();g(e.hasData?0:1)}}var H=class r{trackingNumberService=T(be);router=T(ne);http=T(ie);selectedMenuInner=0;searchContentsData={};totalPages=new S;isLoginExpired=new S;isSkeletonLoading=!0;skeletonClass="w-full h-10 rounded bg-gradient-to-r from-gray-50 via-gray-100 to-gray-0 bg-[length:200%_100%] animate-[shimmer_1.5s_infinite_linear]";itemsCols=["","MAWB No.","HAWB No.","Milestones","","","",""];allStatus=["Booked","ETD","ATD","ETA","ATA","Completed"];lastStatus="Booked";trackingNumber="";totalPage=0;currentPage=1;isInit=!1;hasData=!1;items=[{nowStatus:"Completed"},{nowStatus:"ATD"}];shipmentList=[];baseAPI=de.baseAPI;ngOnInit(){this.renderItems(this.searchContentsData),this.isInit=!0}ngOnChanges(t){this.isInit&&(t.selectedMenuInner&&this.renderItems(this.searchContentsData),t.searchContentsData&&this.renderItems(this.searchContentsData))}renderItems(t){this.currentPage=t.Page,this.isSkeletonLoading=!0,this.postSearchData(t).subscribe({next:e=>{console.log("res",e),e.code==1?(this.hasData=!0,this.shipmentList=e.data.Shipments,this.shipmentList.length===0?(this.hasData=!1,this.isSkeletonLoading=!1):(this.totalPage=e.data.TotalPages,this.totalPages.emit(this.totalPage),this.isSkeletonLoading=!1)):(e.status===401&&this.router.navigate(["/login"]),this.isSkeletonLoading=!1,this.hasData=!1)},error:e=>{console.log("err",e),e.status===401&&this.isLoginExpired.emit(!0),this.isSkeletonLoading=!1,this.hasData=!1,this.isSkeletonLoading=!1},complete:()=>{}})}postSearchData(t){let e=this.getCookie("authToken"),a=new te({"Content-Type":"application/json",Authorization:`Bearer ${e}`});return this.http.post(`${this.baseAPI}TrackingApi/search`,t,{headers:a})}viewItemBtn(t,e){console.log(t,e),t!==""?(this.trackingNumber=t,this.trackingNumberService.setData(this.trackingNumber),this.router.navigate(["/shipment-summary"])):(this.trackingNumber=e,this.trackingNumberService.setData(this.trackingNumber),this.router.navigate(["/shipment-summary"]))}getCookie(t){let e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return e?e[2]:null}getStatusClass(t,e){if(!t)return"bg-gray-300";if(t==="Booked"){if(e==="Booked")return"bg-primary";if(e==="ETD")return"bg-gray-300";if(e==="ATD")return"bg-gray-300";if(e==="ETA")return"bg-gray-300";if(e==="ATA")return"bg-gray-300";if(e==="Completed")return"bg-gray-300"}if(t==="ETD"){if(e==="Booked")return"bg-primary";if(e==="ETD")return"bg-primary";if(e==="ATD")return"bg-gray-300";if(e==="ETA")return"bg-gray-300";if(e==="ATA")return"bg-gray-300";if(e==="Completed")return"bg-gray-300"}if(t==="ATD"){if(e==="Booked")return"bg-primary";if(e==="ETD")return"bg-primary";if(e==="ATD")return"bg-primary";if(e==="ETA")return"bg-gray-300";if(e==="ATA")return"bg-gray-300";if(e==="Completed")return"bg-gray-300"}if(t==="ATD"){if(e==="Booked")return"bg-primary";if(e==="ETD")return"bg-primary";if(e==="ATD")return"bg-primary";if(e==="ETA")return"bg-primary";if(e==="ATA")return"bg-gray-300";if(e==="Completed")return"bg-gray-300"}return t==="Pod"?"bg-primary":t==="ATA"?e==="Completed"?"bg-gray-300":"bg-primary":t==="ETA"?e==="Completed"||e==="ATA"?"bg-gray-300":"bg-primary":"bg-gray-300"}getTextClass(t,e){if(!t)return"text-gray-400";if(t==="Booked"){if(e==="Booked")return"text-primary";if(e==="ETD")return"text-gray-300";if(e==="ATD")return"text-gray-300";if(e==="ETA")return"text-gray-300";if(e==="ATA")return"text-gray-300";if(e==="Completed")return"text-gray-300"}if(t==="ETD"){if(e==="Booked")return"text-primary";if(e==="ETD")return"text-gray-300";if(e==="ATD")return"text-gray-300";if(e==="ETA")return"text-gray-300";if(e==="ATA")return"text-gray-300";if(e==="Completed")return"text-gray-300"}if(t==="ATD"){if(e==="Booked")return"text-primary";if(e==="ETD")return"text-primary";if(e==="ATD")return"text-gray-300";if(e==="ETA")return"text-gray-300";if(e==="ATA")return"text-gray-300";if(e==="Completed")return"text-gray-300"}if(t==="ATD"){if(e==="Booked")return"text-primary";if(e==="ETD")return"text-primary";if(e==="ATD")return"text-primary";if(e==="ETA")return"text-gray-300";if(e==="ATA")return"text-gray-300";if(e==="Completed")return"text-gray-300"}return t==="Pod"?"text-primary":t==="ATA"?e==="Completed"?"text-gray-300":"text-primary":t==="ETA"?e==="Completed"||e==="ATA"?"text-gray-300":"text-primary":"text-gray-400"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-list-table"]],inputs:{selectedMenuInner:"selectedMenuInner",searchContentsData:"searchContentsData"},outputs:{totalPages:"totalPages",isLoginExpired:"isLoginExpired"},features:[$],decls:2,vars:1,consts:[[1,"w-full","table-fixed","border-blackColor/30"],[1,"w-full","bg-[#f5f5f5]"],["width","3%","align","center"],["width","12%","align","left",1,"py-3","px-1"],[1,"text-blackColor","font-semibold"],["width","10%","align","left",1,"py-3","px-1"],["width","65%","align","left",1,"py-3","px-1","flex","gap-x-1","items-center"],["matTooltip","The precesses are only for reference only.","matTooltipPosition","right",1,"material-icons-outlined","text-blackColor/40","text-lg"],[1,"skeleton-loading","pt-10"],[1,"grid","grid-cols-1","gap-10"],[1,"flex","flex-col"],[1,"w-full","table-fixed","border-b","border-blackColor/30"],[1,"w-full","h-[500px]","flex","justify-center","items-center"],[1,"border-b","border-blackColor/20"],[1,"py-5","px-1","text-gray-400","text-sm"],[1,"py-5","px-1"],[1,"breack-words","break-all"],["align","left",1,"py-5","px-1"],[1,"process"],[1,"text","flex","flex-col","items-left"],[1,"flex","justify-between","py-3","pt-5"],[1,"status","w-full"],[1,"processLine","flex","items-center","relative","pb-3"],[1,"point","bg-gray-300","absolute","min-w-[15px]","h-[15px]","rounded-full",3,"ngClass"],[1,"flightIcon","absolute","bg-white","z-10","rounded-full"],[1,"line","absolute","w-[110%]","h-[2px]",3,"ngClass"],[1,"font-medium",3,"ngClass"],[1,"text-[12px]","text-blackColor/60"],[1,"line","bg-gray-300","absolute","w-[110%]","h-[2px]",3,"ngClass"],["align","center",1,"py-5","px-1"],["matRipple","","routerLink","/shipment-list/details",1,"btn-outline","text-nowrap",2,"width","fit-content",3,"click"],[1,"material-symbols-outlined","text-primary"],[1,"text-blackColor/50","text-2xl"]],template:function(e,a){e&1&&h(0,Se,23,1)(1,Ne,2,1),e&2&&g(a.isSkeletonLoading?0:1)},dependencies:[I,A,_e,ge,B,N,ee],encapsulation:2})};var Fe=new G("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=T(Y);return()=>r.scrollStrategies.reposition()}});function Ve(r){return()=>r.scrollStrategies.reposition()}var He={provide:Fe,deps:[Y],useFactory:Ve};var xe=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=Z({type:r});static \u0275inj=X({providers:[He],imports:[O,j,he,ue,j]})}return r})(),Ce={transformMenu:z("transformMenu",[U("void",R({opacity:0,transform:"scale(0.8)"})),V("void => enter",F("120ms cubic-bezier(0, 0, 0.2, 1)",R({opacity:1,transform:"scale(1)"}))),V("* => void",F("100ms 25ms linear",R({opacity:0})))]),fadeInItems:z("fadeInItems",[U("showing",R({opacity:1})),V("void => *",[R({opacity:0}),F("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ei=Ce.fadeInItems,ti=Ce.transformMenu;function We(r,t){if(r&1&&(i(0,"option",9),s(1),n()),r&2){let e=t.$implicit;c("value",e.value),o(),D(e.viewValue)}}function je(r,t){if(r&1&&(i(0,"option",9),s(1),n()),r&2){let e=t.$implicit;c("value",e.value),o(),D(e.viewValue)}}function Ye(r,t){if(r&1){let e=M();i(0,"div",26),u("click",function(){f(e);let l=p();return b(l.clearAll())}),s(1," Clear "),n()}}function ze(r,t){if(r&1){let e=M();i(0,"div",27),u("click",function(){f(e);let l=p().$implicit,m=p();return b(m.switchStatus(l.value))}),i(1,"mat-icon",24),s(2),n(),i(3,"p",24),s(4),n()()}if(r&2){let e=p().$implicit;o(2),D(e.icon),o(2),_(" ",e.viewValue," ")}}function Ue(r,t){if(r&1&&h(0,ze,5,2,"div",23),r&2){let e=t.$implicit,a=p();g(a.sortBy===e.value?0:-1)}}function Qe(r,t){if(r&1){let e=M();i(0,"div",29)(1,"span",32),u("click",function(){let l=f(e).$implicit,m=p(2);return b(m.changePage(l))}),i(2,"input",33),u("keyup.enter",function(){f(e);let l=p(2);return b(l.renderPage(l.currentPage))})("ngModelChange",function(l){f(e);let m=p(2);return b(m.onPageInputChange(l))}),n()(),s(3),n()}if(r&2){let e=p(2);o(2),c("ngModel",e.currentPage),o(),_(" / ",e.totalPages," pages ")}}function Xe(r,t){if(r&1){let e=M();i(0,"div",25)(1,"button",28),u("click",function(){f(e);let l=p();return b(l.changePage(l.currentPage-1))}),i(2,"mat-icon",24),s(3,"chevron_left"),n()(),x(4,Qe,4,2,"div",29,y),i(6,"button",30),u("click",function(){f(e);let l=p();return b(l.changePage(l.currentPage+1))}),i(7,"mat-icon",31),s(8,"chevron_right"),n()()()}if(r&2){let e=p();o(),c("disabled",e.currentPage===1),o(3),C(e.pages),o(2),c("matRippleColor",e.rippleColor)("disabled",e.currentPage===e.totalPages)}}function Ge(r,t){r&1&&(i(0,"div",25)(1,"button",34)(2,"mat-icon",35),s(3,"chevron_left"),n()(),i(4,"div",29)(5,"span",36),s(6,"1"),n(),s(7," / 1 pages "),n(),i(8,"button",34)(9,"mat-icon",37),s(10,"chevron_right"),n()()()),r&2&&(o(),c("disabled",!0),o(7),c("disabled",!0))}var W=class r{rippleColor="rgba(255, 255, 255, 0.2)";placeHolderColor="placeholder:text-red-500";placeHolderText="Tracking number";isInputError=!1;loading=!0;searchContentOutput=new S;totalPages=1;selectedMenu=0;minDate="";maxDate="";trackingNumber="";numberType=0;dateType=0;startDate="";endDate="";sortBy="new_to_old";currentPage=1;errorMessage="Error message";searchResult="";searchDateTypes=[{value:0,viewValue:"All"},{value:1,viewValue:"ETD"},{value:2,viewValue:"ETA"}];numberTypeOptions=[{value:0,viewValue:"All Types"},{value:1,viewValue:"HAWB No."},{value:2,viewValue:"MAWB No."},{value:3,viewValue:"PO No."}];sortByOptions=[{value:"old_to_new",viewValue:"New to old",icon:"arrow_downward"},{value:"new_to_old",viewValue:"Old to new",icon:"arrow_upward"}];selectedMenuOptions=[{value:0,viewValue:"All Cargos"},{value:1,viewValue:"On-going"},{value:2,viewValue:"Completed"}];dataSent={};initData={StartDate:this.startDate||null,EndDate:this.endDate||null,Status:this.selectedMenu,DateType:0,NumberType:this.numberTypeOptions[this.numberType].value,TrackingNo:this.trackingNumber||null,SortBy:this.sortBy,Page:1,PageSize:5};ngOnInit(){this.dataSent=this.initData,this.searchContentOutput.emit(this.dataSent);let t=new Date,e=new Date;e.setMonth(t.getMonth()-3),e.getDate()!==t.getDate()&&e.setDate(e.getDate()-(e.getDate()-1)),e.setHours(0,0,0,0),this.minDate=e.toISOString().split("T")[0],this.maxDate=""}searchClicked(){if(this.startDate&&!this.endDate||this.startDate&&this.endDate){let t=new Date,e=new Date(t);e.setMonth(t.getMonth()-3),e.getDate()!==t.getDate()&&e.setDate(e.getDate()-(e.getDate()-1)),e.setDate(e.getDate()-1),e.setHours(0,0,0,0);let a=this.startDate?new Date(this.startDate):null;console.log(a);let l=this.endDate?new Date(this.endDate):null;if(a&&a<e||l&&l<=e){let m=new Date(e);m.setDate(m.getDate()+1),this.searchResult=`
            <div class="w-fit text-red-500 px-2">
            The search range is within the last three months starting from ${m.toISOString().split("T")[0]}
            </div>
          `;return}}if(this.trackingNumber===""&&this.numberType!=0){this.isInputError=!0,this.searchResult=`
      <div class="w-fit text-red-500 px-2">
      Please enter a tracking number when selecting a number type.
      </div>
    `;return}this.dataSent={StartDate:this.startDate||null,EndDate:this.endDate||null,DateType:this.searchDateTypes[this.dateType].value,Status:this.selectedMenu,NumberType:this.numberTypeOptions[this.numberType].value,TrackingNo:this.trackingNumber||null,SortBy:this.sortBy,Page:1,PageSize:5},this.currentPage=1,this.searchResultText(),this.searchContentOutput.emit(this.dataSent)}searchResultText(){let t="";return this.trackingNumber!==""&&(t+=`
      <div class="hover:bg-blackColor/5 border rounded-full w-fit border-blackColor/50 px-2 py-[1px]">${this.numberTypeOptions[this.numberType].viewValue} ${this.trackingNumber}</div>
      `),this.startDate!==""&&this.endDate!==""&&(t+=`
      <div class="hover:bg-blackColor/5 border rounded-full w-fit border-blackColor/50 px-2 py-[1px]">${this.startDate} - ${this.endDate}</div>
      `),this.searchResult=t,this.searchResult}clearAll(){this.searchResult="",this.trackingNumber="",this.numberType=0,this.startDate="",this.endDate="",this.sortBy="new_to_old",this.currentPage=1,this.dataSent=this.initData,this.dataSent.Status=this.selectedMenu,console.log(this.dataSent),this.searchContentOutput.emit(this.dataSent)}switchStatus(t){t==="new_to_old"?this.sortBy="old_to_new":this.sortBy="new_to_old",this.currentPage=1,this.dataSent.Page=this.currentPage,this.dataSent.SortBy=this.sortBy,this.searchContentOutput.emit(this.dataSent)}get pages(){let e=[];if(this.totalPages<=1)return Array.from({length:this.totalPages},(L,Te)=>Te+1);let a=Math.floor(1/2),l=Math.max(this.currentPage-a,1),m=l+1-1;m>this.totalPages&&(m=this.totalPages,l=m-1+1);for(let L=l;L<=m;L++)e.push(L);return e}changePage(t){t>=1&&t<=this.totalPages?(this.currentPage=t,this.dataSent.Page=this.currentPage):this.currentPage=1,this.searchContentOutput.emit(this.dataSent)}renderPage(t){let e=Number(t);!isNaN(e)&&e>=1&&e<=this.totalPages?(this.dataSent.Page=this.currentPage,this.searchContentOutput.emit(this.dataSent)):this.currentPage=1}onPageInputChange(t){let e=t.replace(/\D/g,""),a=e?Number(e):1;this.currentPage=a>this.totalPages?this.totalPages:a}spinnerAnimation(){setTimeout(()=>{this.loading=!1},300)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-search-bar"]],inputs:{totalPages:"totalPages",selectedMenu:"selectedMenu"},outputs:{searchContentOutput:"searchContentOutput"},decls:39,vars:14,consts:[[1,"searchGroup","w-full","flex","items-center","justify-between","p-0"],[1,"flex"],[1,"search","relative","border","rounded-md","border-1","border-[#b9b9b9]"],[1,"border","flex","searchContent","rounded-md"],[1,"inputTrackingNum","flex","flex-nowrap","justify-center","items-center","relative","pr-3","pl-1"],[1,"text-blackColor/80","mr-1","pr-3","text-[20px]",2,"width","20px","height","20px"],["type","text",1,"cursor-text","w-full","pr-6","focus:outline-none","focus:ring-transparent","text-blackColor","py-1",3,"ngModelChange","ngModel","placeholder"],[1,"relative"],["name","","id","",1,"relative","cursor-pointer","focus:outline-none",3,"ngModelChange","ngModel"],[3,"value"],[1,"diver","absolute","-top-[5px]","-left-5","bg-[#b9b9b9]","h-[35px]","w-[1px]"],[1,"diver","absolute","-top-[1px]","right-0","bg-[#b9b9b9]","h-[35px]","w-[1px]"],[1,"startDate","relative","flex"],["type","date",1,"w-full","px-2","focus:outline-none","focus:ring-transparent","text-blackColor","placeholder-transparent","bg-white",3,"ngModelChange","ngModel","min"],[1,"text-blackColor/80","mx-3","pt-[7px]","text-[20px]",2,"width","20px","height","30px"],[1,"endDate","relative","flex"],["type","date",1,"w-full","mr-2","focus:outline-none","focus:ring-transparent","text-blackColor","placeholder-transparent","bg-white",3,"ngModelChange","ngModel","min"],["name","searchStatus","id","searchStatus",1,"searchStatus","cursor-pointer","focus:outline-none","px-3","border-none","bg-transparent",3,"ngModelChange","ngModel"],[1,"flex","gap-2","absolute","-bottom-[35px]"],[1,"flex","gap-2","text-sm","text-blackColor/80","text-nowrap",3,"innerHTML"],[1,"cursor-pointer","text-blackColor/50","hover:bg-blackColor/5","border","rounded-full","w-fit","px-5"],["matRipple","",1,"cursor-pointer","hover:bg-blackColor/90","bg-blackColor/80","text-white","font-medium","px-10","pt-[6px]","rounded-md","ml-3","border-transparent",3,"click","matRippleColor"],[1,"btnGroup","flex","items-center","gap-5"],["mat-raised-button","","matRipple","",1,"btn-outline","cursor-pointer","text-nowrap","flex","items-center","gap-2",2,"width","fit-content"],[1,"cursor-pointer"],[1,"flex","items-center","justify-end","space-x-2","mt-4"],[1,"cursor-pointer","text-blackColor/50","hover:bg-blackColor/5","border","rounded-full","w-fit","px-5",3,"click"],["mat-raised-button","","matRipple","",1,"btn-outline","cursor-pointer","text-nowrap","flex","items-center","gap-2",2,"width","fit-content",3,"click"],[1,"disabled:opacity-50","hover:bg-gray-100","rounded-md","cursor-pointer","px-1","py-1","hover:none","disabled:cursor-default",3,"click","disabled"],[1,"text-blackColor/80","pb-2"],["matRipple","",1,"disabled:opacity-50","hover:bg-gray-100","rounded-md","cursor-pointer","px-1","py-1","hover:none","disabled:cursor-default",3,"click","matRippleColor","disabled"],[1,"disabled:cursor-default","cursor-pointer"],[1,"px-2","py-1","pb-2",3,"click"],["type","text",1,"w-[50px]","border","outline-none","text-center",3,"keyup.enter","ngModelChange","ngModel"],[1,"disabled:opacity-50","rounded-md","px-1","py-1","hover:none","disabled:cursor-default",3,"disabled"],[1,""],[1,"px-2","py-1","pb-2"],[1,"disabled:cursor-default"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),s(6,"search"),n(),i(7,"input",6),P("ngModelChange",function(m){return E(a.trackingNumber,m)||(a.trackingNumber=m),m}),n(),i(8,"div",7)(9,"select",8),P("ngModelChange",function(m){return E(a.numberType,m)||(a.numberType=m),m}),x(10,We,2,2,"option",9,y),n(),d(12,"div",10),n(),d(13,"div",11),n(),i(14,"div",12)(15,"input",13),P("ngModelChange",function(m){return E(a.startDate,m)||(a.startDate=m),m}),n()(),i(16,"mat-icon",14),s(17," arrow_forward "),n(),i(18,"div",15)(19,"input",16),P("ngModelChange",function(m){return E(a.endDate,m)||(a.endDate=m),m}),n(),d(20,"div",11),n(),i(21,"select",17),P("ngModelChange",function(m){return E(a.dateType,m)||(a.dateType=m),m}),x(22,je,2,2,"option",9,y),n()(),i(24,"div",18),d(25,"div",19),h(26,Ye,2,0,"div",20),n()(),i(27,"div",21),u("click",function(){return a.searchClicked()}),s(28," Search "),n()(),i(29,"div",22),x(30,Ue,1,1,null,null,y),i(32,"div",23)(33,"mat-icon"),s(34,"download"),n(),i(35,"p",24),s(36,"Export"),n()()()(),h(37,Xe,9,3,"div",25)(38,Ge,11,2,"div",25)),e&2&&(o(7),v(a.isInputError?"":"border-red-500"),w("ngModel",a.trackingNumber),c("placeholder",a.placeHolderText),o(2),w("ngModel",a.numberType),o(),C(a.numberTypeOptions),o(5),w("ngModel",a.startDate),c("min",a.minDate),o(4),w("ngModel",a.endDate),c("min",a.minDate),o(2),w("ngModel",a.dateType),o(),C(a.searchDateTypes),o(3),c("innerHTML",a.searchResult,K),o(),g(a.searchResult!==""?26:-1),o(),c("matRippleColor",a.rippleColor),o(3),C(a.sortByOptions),o(7),g(a.pages.length>0?37:38))},dependencies:[I,A,O,B,xe,N,me,ce,re,le,oe,se],styles:["select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none}select[_ngcontent-%COMP%]::-ms-expand{display:none}"]})};function $e(r,t){if(r&1){let e=M();i(0,"p",17),u("click",function(){let l=f(e).$implicit,m=p();return b(m.menuSelected(l.value))}),s(1),n()}if(r&2){let e=t.$implicit,a=p();v(a.selectedMenu===e.value?"text-blackColor":"text-blackColor/50"),o(),_(" ",e.viewValue," ")}}var Me=class r{cookieService=T(pe);account="User";isLoginExpired=!1;selectedMenuOptions=[{value:0,viewValue:"All Cargos"},{value:1,viewValue:"On-going"},{value:2,viewValue:"Completed"}];selectedMenu=0;searchListData={};totalPages=0;isShowArrow=!1;scrollY=0;getSearchListData(t){this.searchListData=t,this.searchListData=JSON.parse(JSON.stringify(this.searchListData)),console.log(this.searchListData)}getTotalPages(t){this.totalPages=t}ngOnInit(){this.cookieService.get("authToken")&&(this.account=this.cookieService.get("account"))}menuSelected(t){this.selectedMenu=t,this.searchListData.Status=this.selectedMenu}scrollToTop(){window.scrollTo(0,0)}onWindowScroll(){this.scrollY=window.scrollY,this.scrollY>200&&(this.isShowArrow=!0),this.scrollY<200&&(this.isShowArrow=!1)}clearAll(){let t={StartDate:null,EndDate:null,Status:this.selectedMenu,DateType:0,NumberType:0,TrackingNo:null,SortBy:"new_to_old",Page:1,PageSize:5};this.searchListData=t}isLoginCheck(t){this.isLoginExpired=t}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-shipment-list"]],hostBindings:function(e,a){e&1&&u("scroll",function(m){return a.onWindowScroll(m)},!1,q)},decls:28,vars:12,consts:[[3,"isLoginExpired"],[1,"bg-blackColor/5"],[1,"container","mx-auto","max-w-screen-xl","p-3"],[1,"greeting","py-3"],[1,"font-semibold","text-3xl","text-blackColor"],[1,"text-blackColor"],[1,"frame","bg-white","rounded-md","p-10","pb-[100px]","mb-[100px]"],[1,"process-menu","flex","justify-between","mb-5","border-b-2"],[1,"flex","gap-x-2","relative"],[1,"cursor-pointer","text-xl","transition-all","font-semibold","hover:text-blackColor/90","py-0","pb-3","px-3","mr-1","m-0","border-transparent","border-b-4",3,"class"],[1,"transition-transform","duration-200","pt-[42px]","w-[120px]"],[3,"searchContentOutput","selectedMenu","totalPages"],[1,"shipmentList"],[3,"totalPages","isLoginExpired","selectedMenuInner","searchContentsData"],[1,"notice"],[1,"text-blackColor/50","text-sm"],[1,"upToTop","z-10","transition-all","duration-200","fixed","bottom-[250px]","right-1/2","-translate-x-1/2","drop-shadow-xl","h-[60px]","w-[60px]","p-[18px]","rounded-full","hover:scale-[1.2]",3,"click"],[1,"cursor-pointer","text-xl","transition-all","font-semibold","hover:text-blackColor/90","py-0","pb-3","px-3","mr-1","m-0","border-transparent","border-b-4",3,"click"]],template:function(e,a){e&1&&(d(0,"app-header",0),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),s(5),n(),i(6,"p",5),s(7,"Tracking your shipment"),n()(),i(8,"div",6)(9,"div",7)(10,"div",8),x(11,$e,2,3,"p",9,y),d(13,"div",10),n()(),i(14,"app-search-bar",11),u("searchContentOutput",function(m){return a.getSearchListData(m)}),n(),i(15,"div",12)(16,"app-list-table",13),u("totalPages",function(m){return a.getTotalPages(m)})("isLoginExpired",function(m){return a.isLoginCheck(m)}),n()()(),i(17,"div",14)(18,"ul")(19,"li",15),s(20," 1. The flowchart is for reference only and may be adjusted according to the actual operation status. "),n(),i(21,"li",15),s(22," 2. Only provide shipments that within the last three months "),n()()()(),d(23,"app-footer")(24,"div"),n(),i(25,"div",16),u("click",function(){return a.scrollToTop()}),i(26,"mat-icon"),s(27,"arrow_upward"),n()()),e&2&&(c("isLoginExpired",a.isLoginExpired),o(5),_("Hello ",a.account,","),o(6),C(a.selectedMenuOptions),o(2),v(!a.selectedMenu||a.selectedMenu===0?"absolute border-b-4 border-primary":a.selectedMenu===1?"absolute border-b-4 border-primary translate-x-[120px]":a.selectedMenu===2?"absolute border-b-4  border-primary translate-x-[250px]":"absolute border-b-4"),o(),c("selectedMenu",a.selectedMenu)("totalPages",a.totalPages),o(2),c("selectedMenuInner",a.selectedMenu)("searchContentsData",a.searchListData),o(9),v(a.isShowArrow?"opacity-100 translate-y-[190px] bg-primary/30 hover:bg-primary text-white cursor-pointer":"opacity-0 cursor-default"),o(),v(a.isShowArrow?"cursor-pointer":"cursor-default"))},dependencies:[W,fe,H,ae,I,A],encapsulation:2})};export{Me as ShipmentListComponent};
